---
banner: "![[图片/游戏攻略/英雄传说/英雄传说 闪之轨迹/cover.jpg]]"
banner_y: 0.32731
Icon: "![[图片/游戏攻略/英雄传说/英雄传说 闪之轨迹/icon.png|50]]"
No: 6
NPWR: "NPWR04672_00"
Developers: 
  - "Falcom"
Publishers: 
  - "Falcom"
  - "云豹娱乐"
  - "SIE"
Producers:  
Release: "2018/03/08"
Abstract: "军事大国《埃雷波尼亚帝国》, 因《改革派》与《贵族派》的对立而政局紧绷. 被遴选进入名门《托尔兹军官学院》新设立《特科班VII班》的新生黎恩, 将与其他《VII班》成员一同迎接波涛汹涌的学院生活!"
Prev: 
Next: "[[游戏攻略/英雄传说 闪之轨迹 II/英雄传说 闪之轨迹II]]"
---
# 英雄传说 闪之轨迹
```ad-quote
title: 奖杯
icon: trophy
collapse: open
~~~dataviewjs
const order = ["白金","金", "银", "铜"]
const trophies = dv.pages('#英雄传说/闪之轨迹/奖杯 and -"模板"')
	.map(trophy => {
		const [tTag] = trophy.file.etags.filter(tag => tag.startsWith('#奖杯') && tag .includes("/"));
		const [, type] = tTag.split('/')
		trophy.Type = type;
		return trophy;
	})
	.map(trophy => {
		trophy.Cp = trophy.Chapter ? dv.page(trophy.Chapter): {};
		return trophy;
	})
	.sort(trophy => {
		return [order.indexOf(trophy.Type), trophy.Cp.No, trophy.Cp?.path, trophy.Cp?.subpath]
	}, 'asc')
	.map(trophy => [
			dv.fileLink(trophy.Icon.path, true, "30"), 
			trophy.file.link, 
			trophy.Comment,
			trophy.Chapter
		]);
dv.table(
	[],
	trophies
);
~~~
```

```ad-quote
title: 攻略
icon: list
collapse: open
~~~dataviewjs
dv.table(
	[""], 
	dv.pages('#英雄传说/闪之轨迹/攻略')
		.sort(page => [page.No], 'asc')
		.map(page => [page.file.link])
);
~~~
```

````ad-quote
title: 笔记
icon: pen
collapse: open

```ad-quote
title: 钓鱼
icon: fish
collapse: open
~~~dataviewjs
const fishes = dv.pages('"游戏攻略/英雄传说 闪之轨迹/笔记/钓鱼"')
.map(fish => [
  dv.fileLink(fish.Icon.path, true, '50'),
  fish.file.link,
  fish.Rods.Name,
  fish.Positions
]);
dv.table(
   ["", "名称", "鱼竿", "位置"],
   fishes
);
~~~
```

```ad-quote
title: 书籍
icon: book
collapse: open
~~~dataviewjs
const books = dv.pages('"游戏攻略/英雄传说 闪之轨迹/笔记/书籍"')
              .sort(book => book.TimeToGet.subpath, 'asc')
              .map(book => [
                book.file.link,
                book.TimeToGet,
                book.WayToGet,
                book.Series
              ]);
dv.table(
   ["", "获取章节", "获取方式", "分类"],
   books
 );
~~~
```

```ad-quote
title: 食谱
icon: receipt
collapse: open
~~~dataviewjs
const recipes = dv.pages('#英雄传说/闪之轨迹/笔记/食谱 and -"模板"')
      .sort(recipe => recipe.TimeToGet.subpath, 'asc');
const cooks = await Promise.all(recipes.map(r => dv.view('CharacterIcon', { name:r.Special.Cook[0] , options: {raw: true}})));
const results = await Promise.all(recipes.map(r => {
  const list = [
    {
      Name: r.Best.Name,
      Type: "FoodSuperb",
    },
    {
      Name: r.Normal.Name,
      Type: "FoodRegular",
    },
    {
      Name: r.Strange.Name,
      Type: r.Strange.Attack ? "FoodAttack" : "FoodPeculiar",
    },
    {
      Name: r.Special.Name,
      Type: "FoodUnique",
    },
  ];
  return dv.view('Item', { items: list, options: { inline: false, raw: true } })
}));
dv.table(
   ["", "获取章节", "获取方式", "独门料理人", "极品/普通/古怪/独门"],
   recipes.map((recipe, index) => [
  		 recipe.file.link,
  		 recipe.TimeToGet, 
  		 recipe.WayToGet, 
  		 dv.fileLink(cooks[index].file.path, true, '50'),
  		 results[index]
  	  ])
);
~~~
```

```ad-quote
title: 核心回路
icon: crystals
collapse: open
~~~dataviewjs
const element_order = ["地", "水", "火", "风", "时", "空", "幻"]
const master_quartz = dv.pages('#英雄传说/闪之轨迹/笔记/核心回路  and -"模板"')
                     .sort(quartz => element_order.indexOf(quartz.Element), "asc")
                     .map(quartz => [
                        dv.paragraph(dv.fileLink(quartz.Icon.path, true, '30')),
                        quartz.file.link,
                        quartz.TimeToGet,
                        quartz.WayToGet
                     ])
dv.table(
   ["", "名称", "获取章节", "获取方式"],
   master_quartz
);
~~~
```

```ad-quote
title: 任务笔记
icon: question
collapse: open
~~~dataviewjs
const quests = dv.pages('#英雄传说/闪之轨迹/笔记/任务 and -"模板"')
               .map(quest => {
                  quest.ChapterObj = dv.page(quest.Time.path);
                  return quest;
               })
               .sort(quest => [quest.ChapterObj.No, quest.Time.subpath], 'asc');
const views = await Promise.all(quests.map(q => dv.view('Item', { items: q.Bonus, options:{ raw:true, inline: false}})));
dv.table(
   ["", "类型", "AP", "章节", "步骤", "奖励"],
   quests.map((quest, index) => [
                  quest.file.link, 
                  quest.Type, 
                  quest.ExtraAP == 0 
                     ? quest.BasicAP
                     : `${quest.BasicAP} + ${quest.ExtraAP}`,
                  quest.Time, 
                  quest.Steps, 
                  views[index]
               ])
);
~~~
```

```ad-quote
title: 人物信息
icon: people
collapse: open
~~~dataviewjs
const datas = dv.pages('#英雄传说/闪之轨迹/笔记/人物 and -"模板"')
              .sort(page => {
                return [dv.page(page.TimeToGet.path).No, page.TimeToGet.subpath];
              },'asc')
              .map(page => [
                page.Icon ? dv.paragraph(dv.fileLink(page.Icon.path, true, '50')) : page.Character,
                page.file.link,
                page.TimeToGet,
                page.WayToGet
              ]);
dv.table(
  ["人物", "标题", "章节", "获取方式"],
  datas
);
~~~
```

```ad-quote
title: 战斗笔记
icon: crossed-swords
collapse: open
~~~dataviewjs
const datas = dv.pages('#英雄传说/闪之轨迹/笔记/战斗 and -"模板"')
              .sort(page => {
                const { Locations } = page;
                const location = dv.page(Locations[0].path);
                const { Chapter } = location;
                const chapter_path = Array.isArray(Chapter) ? Chapter[0].path : Chapter.path
                const chapter = dv.page(chapter_path);
                return [chapter.No, location.Name, page.file.name];
              }, 'asc');

const views = await Promise.all(datas.map(d => dv.view('Item', { items: d.Droped.Items, options: { raw: true, inline: false } })));
dv.table(
   ["", "名称", "地点", "掉落"],
   datas.map((item, index) => [
     dv.fileLink(item.Icon.path, true, '50'),
     dv.fileLink(item.file.path, false, item.Name),
     item.Locations,
     views[index]
   ])
);
~~~
```

```ad-quote
title: 迷宫
icon: map-marked
collapse: open
~~~dataviewjs
const locations = dv.pages('#英雄传说/闪之轨迹/笔记/迷宫 and -"模板"')
                 .map(local => {
                    local.ChapterObj = dv.page(local.Chapter.path);
                    return local;
                 })
                 .sort(local => [local.ChapterObj.No, local.Chapter.subpath], 'asc')
                 .map(local => [
                   local.file.link,
                   local.Chapter
                 ]);
dv.table(
   ["", "章节"],
   locations
);
~~~
```

```ad-quote
title: 宝箱
icon: box
collapse: open
~~~dataviewjs
const boxes = dv.pages('#英雄传说/闪之轨迹/笔记/宝箱 and -"模板"')
             .sort(box => [parseFloat(box.file.name)], 'asc');
const views = await Promise.all(boxes.map(box => dv.view('Item', { items: box.Bonus, options: { raw: true } })));

dv.table(
   ["", "章节", "地点", "奖励"],
   dv.pages('#英雄传说/闪之轨迹/笔记/宝箱 and -"模板"')
   .sort(box => [parseFloat(box.file.name)], 'asc')
   .map((box, index) => [
     box.file.link,
     box.Chapter,
     box.Position,
     views[index],
   ])
);
~~~
```

````

#英雄传说/闪之轨迹 #角色扮演 #回合制 #系列/英雄传说 #游戏首页 #日式RPG